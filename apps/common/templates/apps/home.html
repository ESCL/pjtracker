{% extends 'apps/base.html' %}

{% load staticfiles %}


{% block styles %}

{{ block.super }}
<link rel="stylesheet" href="{% static 'css/notifications.css' %}">

{% endblock %}


{% block breadcrumbs %}

<li><span>home</span></li>

{% endblock %}


{% block body %}

<div class="row">

    <h1>Welcome to <span class="light-blue">pjtracker&copy;</span>!</h1>

    <div id="notifications">
        {% include 'apps/notifications.html' %}
    </div>

    <div id="graphs">
    </div>

    <div class="user-support-link">
        <span class="light-blue">Need help?</span>&nbsp;<a href="http://support.pjtracker.com/" target="_blank">Contact our support team</a>
    </div>

</div>

{% endblock %}


{% block scripts %}

<!-- Standard libraries -->
<script src="{% static 'libs/canvas/js/canvasjs.min.js' %}"></script>

<!-- Custom libraries -->
<script src="{% static 'js/ajax.js' %}"></script>
<script src="{% static 'js/graphs.js' %}"></script>

<!-- Specific functionality -->
<script src="{% static 'js/notifications.js' %}"></script>
<script>
    (function() {
        generateSimpleGraph({
            title: 'Hours per activity', type: 'bar',
            url: '/deployment/api/v0/hours/?format=json',
            labelField: 'wbs_code', dataField: 'total_hours',
            animate: true
        });
    })();
</script>

{% endblock %}
