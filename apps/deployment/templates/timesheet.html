{% extends 'apps/base.html' %}

{% load staticfiles %}


{% block styles %}

    {{ block.super}}
    <link rel="stylesheet" href="{% static 'css/timesheets.css' %}">

{% endblock %}


{% block breadcrumbs %}

<li><a href="/">home</a></li>
<li><a href="{% url 'timesheets' %}">time-sheets</a></li>
<li>{{ timesheet }}</li>
<li><a href="{% url 'timesheet' pk=timesheet.id action='edit' %}">edit</a></li>

{% endblock %}


{% block body %}

<div class="row">
    <h4>Main</h4>
    <dl>
        <dt>Team</dt><dd>{{ timesheet.team }}</dd>
        <dt>Date</dt><dd>{{ timesheet.date }}</dd>
        <dt>Status</dt><dd>{{ timesheet.get_status_display }}</dd>
    </dl>
</div>
<div class="row">
    <h4>Work Logs</h4>
    <table>
        <thead>
            <tr>
                <th>Resource</th>
                <th colspan="2">Activity</th>
                <th>Labour</th>
                <th>Hours</th>
            </tr>
        </thead>
        <tbody>
            {% for resource, activities in timesheet.work_logs_data.items %}
                {% for activity, log in activities.items %}
                    <tr>
                        <td>{{ resource }}</td>
                        <td>{{ activity.wbs_code }}</td>
                        <td>{{ activity.name }}</td>
                        <td>{{ log.get_labour_type_display }}</td>
                        <td>{{ log.hours }}</td>
                    </tr>
                {% endfor %}
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}